{% extends "blog/base.html" %}
{% load staticfiles %}
{% block navfix %}
<li>
	<a href="{% url 'blog:new_blog' %}">new blog</a>
</li>
<li>
	<a href="{% url 'blog:my_blog' %}">my blog</a>
</li>

{% endblock %}

{% block body %}
<link rel="stylesheet" href="{% static 'css/viewer.min.css' %}">
<style type="text/css" media="screen">  
*{margin:0;padding:0;}
.box{
  display: flex;
  flex-wrap: wrap;
}
.box span{
  flex-grow: 1;
  margin: 2px;
  padding-bottom: 30%;  
  width:30%;
  max-width:50%;
  height: 0;
  position:relative;
}
.box img{
  height: 100%;
  object-fit: cover;
  /*max-width: 100%;
  min-width: 100%;*/
  width:100%;
  position:absolute;
  top:-50%;
  left:-50%;
  transform:translate(50%,50%);
  vertical-align: middle;
}
</style>



<h2>Friendss' Sharing</h2>
{% for blog in blogs %}

<div class="row">
  <div class="col m12 s12">
	<div class="card">
		<div class="card-content">
		</div>
	</div>
  </div>
</div> 




      <div class="col s12 m8 offset-m2 l6 offset-l3">
        <div class="card-panel grey lighten-5 z-depth-1">
          <div class="row valign-wrapper">
            <div class="col s2">
              <img src="images/yuna.jpg" alt="" class="circle responsive-img">
            </div>
            <div class="col s10">
              <span class="black-text">
                {% if blog.senduser.nickname %}
				{{blog.senduser.nickname}}
				{% else %}
				{{blog.user.username}}
				{% endif %}
              </span>
            </div>
          </div>
					<div class="row valign-wrapper">
            <div class="col s2">
              <img src="images/yuna.jpg" alt="" class="circle responsive-img">
            </div>
            <div class="col s10">
              <span class="black-text">
                This is a square image. Add the "circle" class to it to make it appear circular.
              </span>
            </div>
          </div>
                    <div class="row valign-wrapper">
            <div class="col s2">
              <img src="images/yuna.jpg" alt="" class="circle responsive-img">
            </div>
            <div class="col s10">
              <span class="black-text">
                This is a square image. Add the "circle" class to it to make it appear circular.
              </span>
            </div>
          </div>
        </div>
      </div>


	<p>//////////////////////blog</p>
	
	{% if blog.senduser.id == account.id %}
	<a href="{% url 'blog:delete_blog' blog.id %}">delete</a>
	<a href="{% url 'blog:edit_blog' blog.id %}">edit</a>
	{% endif %}
	<p><img src="/static/{{blog.senduser.photo}}" alt=""/></p>
	<p>{{blog.time}}</p>
	<p>{{blog.content}}</p>
				<div id="jq22" class="box">
					{% for ph in blog.photo %}
					<span>
						<img src="/static/{{ph.photo}}" alt="">
					</span>
					{% endfor %}
				</div>
	<p>
		<a href="{% url 'blog:comment_blog' blog.id %}">comment</a>
	</p>
	<p>//////////////////blogend</p>
	{% for comment in blog.comments %}
		<p>//////////////////////comment</p>
		{% if comment.comment_userinfo.nickname %}
		<p>{{comment.comment_userinfo.nickname}}</p>
		{% else %}
		<p>{{comment.comment_user.username}}</p>
		{% endif %}
		<p><img src="/static/{{comment.comment_userinfo.photo}}" alt="" /></p>
		{% if comment.comment_userinfo.id == account.id or blog.senduser.id == account.id %}
		<a href="{% url 'blog:delete_comment' comment.comment.id %}">delete</a>
		{% endif %}
		
		{% if comment.comment_userinfo.id == account.id %}
		<a href="{% url 'blog:edit_comment' comment.comment.id %}">edit</a>
		{% endif %}
		
		<p>{{comment.comment.text}}</p>
		<p>//////////////////commendend</p>
	{% endfor %}
{% endfor %}





<script src="{% static 'js/viewer-jquery.min.js' %}"></script>
<script>
$('#jq22').viewer();
</script>

{% endblock %}







